<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.81.0" />

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">



<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Krustlet</title><meta property="og:title" content="" />
<meta property="og:description" content="Running Krustlet on Azure This guide demonstrates how to run Krustlet on Azure.
Prerequisites This guide will require both the Azure CLI as well as kubectl to connect to the cluster after it has been provisioned.
This specific tutorial will run Krustlet on another Azure Virtual Machine within the same Virtual Network as the Kubernetes cluster.
Step 1: Creating a Service Principal Prior to deploying Krustlet, a Service Principal needs to exist." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://docs.krustlet.dev/en/howto/krustlet-on-azure/" /><meta property="article:section" content="en" />

<meta property="og:site_name" content="Krustlet" />

<meta itemprop="name" content="">
<meta itemprop="description" content="Running Krustlet on Azure This guide demonstrates how to run Krustlet on Azure.
Prerequisites This guide will require both the Azure CLI as well as kubectl to connect to the cluster after it has been provisioned.
This specific tutorial will run Krustlet on another Azure Virtual Machine within the same Virtual Network as the Kubernetes cluster.
Step 1: Creating a Service Principal Prior to deploying Krustlet, a Service Principal needs to exist.">

<meta itemprop="wordCount" content="491">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="Running Krustlet on Azure This guide demonstrates how to run Krustlet on Azure.
Prerequisites This guide will require both the Azure CLI as well as kubectl to connect to the cluster after it has been provisioned.
This specific tutorial will run Krustlet on another Azure Virtual Machine within the same Virtual Network as the Kubernetes cluster.
Step 1: Creating a Service Principal Prior to deploying Krustlet, a Service Principal needs to exist."/>











<link rel="stylesheet" href="/css/style.156ef4bd2d03d554aae7c41614b3787a8044b8851cfce0abd4d234d8c4152933.css" integrity="sha256-FW70vS0D1VSq58QWFLN4eoBEuIUc/OCr1NI02MQVKTM=">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>



<link rel="stylesheet" href="/css/prism.css" />



  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo"><svg height="1300" viewBox="0 0 4448 1300" width="4448" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a" d="m.31406045 255.102725L437.707741 509.628627l435.266552-256.473758-435.266552-252.57804465z"/><mask id="b" fill="#fff"><use fill="#fff" fill-rule="evenodd" xlink:href="#a"/></mask></defs><g fill="none"><g transform="translate(199 120)"><g fill="#b6e2d6" stroke="#fff" stroke-width="4"><ellipse cx="132.80633" cy="790.408167" rx="62.962227" ry="33.729225"/><ellipse cx="457.617465" cy="985.286728" rx="62.962227" ry="33.729225"/><ellipse cx="782.428599" cy="790.400047" rx="62.962227" ry="33.729225"/><ellipse cx="291.963786" cy="884.603396" rx="62.962227" ry="33.729225"/><ellipse cx="623.271143" cy="884.595276" rx="62.962227" ry="33.729225"/><ellipse cx="457.617465" cy="822.88116" rx="62.962227" ry="33.729225"/><ellipse cx="291.963786" cy="744.934608" rx="62.962227" ry="33.729225"/><ellipse cx="623.271143" cy="744.926488" rx="62.962227" ry="33.729225"/></g><path d="m18.494482 635.525784 437.393681 254.525901 435.266551-256.473758-435.266551-252.578044z" fill="#1128a9"/><g transform="translate(18.180422 250.00006)"><path d="m.31406045 255.102725L437.707741 509.628627l435.266552-256.473758-435.266552-252.57804465z" fill="#87e3cb"/><use fill="#c8fcee" xlink:href="#a"/><g stroke="#6ed3b9" stroke-width="45"><path d="m-274.472506 440.043045 1354.028266-794.36565" mask="url(#b)"/><path d="m-313.429146 618.430822 1354.028266-794.36565" mask="url(#b)"/><path d="m37.400149 564.914489 1354.028271-794.36565" mask="url(#b)"/><path d="m29.61998 731.409748 1354.02827-794.36565" mask="url(#b)"/><path d="m203.895408 790.87234 1354.028262-794.36565" mask="url(#b)"/><path d="m554.724703 737.356007L1908.75297-57.009643" mask="url(#b)"/><path d="m548.778444 903.851266 1354.028266-794.36565" mask="url(#b)"/><g mask="url(#b)"><g transform="matrix(-1 0 0 1 1917.74975 -401.91278)"><path d="m6.546271 794.385751 1354.028269-794.36565"/><path d="m.600012 972.773528 1354.028268-794.36565"/><path d="m351.429307 919.257195 1354.028263-794.36565"/><path d="m345.483048 1085.75245L1699.51131 291.386804"/><path d="m517.924566 1145.21505L1871.95283 350.849396"/><path d="m868.753861 1091.69871L2222.78213 297.333063"/><path d="m862.807602 1258.19397L2216.83587 463.828322"/></g></g></g></g><g transform="translate(129.637675 68.695502)"><path d="m.83391004 416.790392V62.3259453L265.83391 569.255762z" fill="#1128a9"/><path d="m325.83391 438.925408 220.024719-126.457032v-311.81207645L325.83391 123.602441z" fill="#569cf5"/><path d="m0 245.023614 178.007865 104.748898V106.338847L0 14210854715202e-27z" fill="#fb8143" transform="translate(414.362325 140.925408)"/><path d="m325.83391 438.925408 220.024719-126.457032v-311.81207645L325.83391 123.602441z" fill="#569cf5"/></g></g><path d="m1569.4397 743.792857c13.28393.0 25.72322-2.533928 37.31786-7.601786 11.59464-5.067857 21.76875-12.112946 30.52232-21.135267 8.75357-9.022322 15.6067-19.503572 20.55938-31.44375 4.95267-11.940179 7.42901-24.744197 7.42901-38.412054.0-13.744643-2.47634-26.567857-7.42901-38.469643-4.95268-11.901786-11.80581-22.363839-20.55938-31.386161-8.75357-9.022321-18.92768-16.06741-30.52232-21.135267-11.59464-5.067858-24.03393-7.601786-37.31786-7.601786s-25.72321 2.533928-37.31785 7.601786c-11.59465 5.067857-21.76875 12.112946-30.52233 21.135267-8.75357 9.022322-15.60669 19.484375-20.55937 31.386161s-7.42902 24.725-7.42902 38.469643c0 13.667857 2.47634 26.471875 7.42902 38.412054 4.95268 11.940178 11.8058 22.421428 20.55937 31.44375 8.75358 9.022321 18.92768 16.06741 30.52233 21.135267 11.59464 5.067858 24.03392 7.601786 37.31785 7.601786zm0-29.025c-8.98393.0-17.33437-1.746875-25.05134-5.240625-7.71696-3.49375-14.43571-8.369643-20.15625-14.627678-5.72053-6.258036-10.15491-13.610268-13.30312-22.056697-3.14822-8.446428-4.72232-17.660714-4.72232-27.642857s1.5741-19.196429 4.72232-27.642857c3.14821-8.446429 7.58259-15.798661 13.30312-22.056697 5.72054-6.258035 12.43929-11.133928 20.15625-14.627678 7.71697-3.49375 16.06741-5.240625 25.05134-5.240625 9.06072.0 17.44956 1.746875 25.16652 5.240625s14.43571 8.369643 20.15625 14.627678c5.72054 6.258036 10.15491 13.610268 13.30313 22.056697 3.14821 8.446428 4.72232 17.660714 4.72232 27.642857s-1.57411 19.196429-4.72232 27.642857c-3.14822 8.446429-7.58259 15.798661-13.30313 22.056697-5.72054 6.258035-12.43929 11.133928-20.15625 14.627678s-16.1058 5.240625-25.16652 5.240625zM1743.70522 8e2v-78.782143c5.14464 7.141072 11.55625 12.688839 19.23482 16.643304 7.67857 3.954464 15.97143 5.931696 24.87857 5.931696 11.13393.0 21.09687-2.745089 29.88884-8.235268 8.79196-5.490178 15.74107-12.957589 20.84732-22.402232s7.65938-20.117857 7.65938-32.019643c0-12.055357-2.57233-22.78616-7.71697-32.19241s-12.15134-16.835268-21.02009-22.287054-18.98527-8.177679-30.34955-8.177679c-8.98393.0-17.27679 1.900447-24.87857 5.70134-7.60179 3.800893-13.78304 9.118303-18.54375 15.952232v-17.967857h-28.67947V8e2zm35.93571-80.740179c-7.06428.0-13.37991-1.631696-18.94687-4.895089-5.56697-3.263393-9.92456-7.774553-13.07277-13.533482-3.14822-5.758929-4.72232-12.324107-4.72232-19.695536.0-7.371428 1.5933-13.936607 4.77991-19.695535 3.1866-5.758929 7.54419-10.27009 13.07277-13.533483 5.52857-3.263392 11.825-4.895089 18.88928-4.895089 7.06429.0 13.32232 1.631697 18.77411 4.895089 5.45178 3.263393 9.77098 7.79375 12.95759 13.591072 3.1866 5.797321 4.77991 12.381696 4.77991 19.753125.0 7.371428-1.57411 13.917411-4.72232 19.637946-3.14822 5.720536-7.46741 10.2125-12.95759 13.475893s-11.76741 4.895089-18.8317 4.895089zm171.1334 24.533036c12.20892.0 23.28526-2.629911 33.22901-7.889732s17.71831-12.573661 23.32366-21.941518L1986.47968 703.25c-4.53035 5.9125-9.57902 10.308482-15.14598 13.187946-5.56696 2.879465-11.92098 4.319197-19.06205 4.319197-7.525.0-14.18616-1.516518-19.98349-4.549554-5.79732-3.033035-10.30848-7.25625-13.53348-12.669643-3.225-5.413392-4.8375-11.690625-4.8375-18.831696h96.05893c.23036-1.535714.38393-2.629911.46072-3.282589.07678-.652679.11517-1.478125.11517-2.47634.0-12.055357-2.59151-22.613392-7.77455-31.674107-5.18304-9.060714-12.40089-16.125-21.65357-21.192857s-20.02188-7.601786-32.30759-7.601786c-8.98393.0-17.35357 1.6125-25.10893 4.8375s-14.55089 7.716965-20.38661 13.475893c-5.83571 5.758929-10.40446 12.439286-13.70625 20.041072-3.30178 7.601785-4.95267 15.779464-4.95267 24.533035.0 11.825 2.89866 22.459822 8.69598 31.904465s13.66785 16.892857 23.6116 22.344643c9.94375 5.451785 21.21206 8.177678 33.80492 8.177678zm31.32857-77.054464h-66.91875c.76785-5.451786 2.6491-10.135714 5.64375-14.051786 2.99464-3.916071 6.87232-6.949107 11.63303-9.099107 4.76072-2.15 10.17411-3.225 16.24018-3.225 5.75893.0 10.98036 1.094196 15.66429 3.282589s8.5616 5.240625 11.63303 9.156697c3.07143 3.916071 5.10625 8.561607 6.10447 13.936607zm104.09168 73.36875V667.775c0-4.914286 1.15178-9.387054 3.45535-13.418304s5.60536-7.25625 9.90536-9.675 9.40625-3.628125 15.31875-3.628125c8.6.0 15.33795 2.668304 20.21384 8.004911s7.31384 12.919197 7.31384 22.747768v68.300893h28.67946v-74.290179c0-9.675-1.88125-18.044643-5.64375-25.108928-3.7625-7.064286-9.04152-12.535268-15.83705-16.412947-6.79554-3.877678-14.72366-5.816518-23.78438-5.816518-8.75357.0-16.52812 1.67009-23.32366 5.010268-6.79553 3.340179-12.22812 7.620982-16.29776 12.842411v-14.166964h-28.67947v117.942857zm268.20126 3.455357c37.0875.0 71.64107-15.894643 71.64107-61.275.0-24.878571-23.26607-42.846429-44.45893-51.830357-21.65357-9.214286-39.62142-16.816072-39.62142-27.4125.0-10.366072 7.83214-17.046429 22.575-17.046429 19.58035.0 38.46964 13.130357 38.46964 13.130357l17.50714-34.553571s-24.41786-17.967857-58.97143-17.967857c-30.6375.0-61.96607 22.575-61.96607 58.05.0 19.810714 13.36072 37.548214 36.16607 48.835714 22.575 11.2875 42.84643 17.507143 42.84643 31.328572.0 17.7375-17.96786 18.658928-27.4125 18.658928-21.19286.0-46.53214-21.423214-46.53214-21.423214l-21.65357 36.396428s26.95178 25.108929 71.41071 25.108929zm161.14762.0c26.26071.0 47.91429-8.523214 61.275-30.867857l-29.48571-14.742857c-9.90536 10.596428-15.66429 13.130357-28.79465 13.130357-10.36607.0-25.56964-6.219643-25.56964-24.417857h85.69286c.23035-1.382143.23035-3.916072.23035-5.528572.0-41.464285-27.4125-62.657143-63.34821-62.657143-35.70536.0-64.96071 28.103572-64.96071 62.657143.0 34.323215 29.25535 62.426786 64.96071 62.426786zm23.49643-79.473214h-44.91964c.69107-10.826786 8.52321-19.119643 22.575-19.119643 11.97857.0 20.50178 6.680357 22.34464 19.119643zm112.08155 76.017857v-62.196429c0-2.994643 2.99464-23.957143 24.1875-23.957143 13.59107.0 21.19285 6.45 21.19285 6.45L2713.54822 625.85s-10.59643-7.371429-25.8-7.371429c-23.26607.0-36.16607 20.501786-36.16607 20.501786h-.46071v-17.046428h-40.77322v118.173214zm159.30476.0 63.34821-118.173214h-48.375l-28.79464 64.269642-28.79464-64.269642h-48.375l63.34821 118.173214zm106.32262-142.821429c13.36071.0 24.1875-10.826785 24.1875-24.1875.0-13.360714-10.82679-24.1875-24.1875-24.1875-13.36072.0-24.1875 10.826786-24.1875 24.1875.0 13.360715 10.82678 24.1875 24.1875 24.1875zm19.81071 142.821429V621.933929h-40.77321v118.173214zM3035.05 743.5625c26.26072.0 39.62143-10.596429 39.62143-10.596429L3060.85 704.632143s-7.60178 5.528571-19.81071 5.528571c-15.43393.0-28.10357-12.9-28.10357-29.255357.0-16.125 12.66964-29.025 28.10357-29.025 12.20893.0 19.81071 5.528572 19.81071 5.528572l13.82143-27.873215s-13.36071-11.057143-39.62143-11.057143c-34.32321.0-65.42142 28.103572-65.42142 62.8875.0 34.553572 31.32857 62.196429 65.42142 62.196429zm125.44227.0c26.26071.0 47.91428-8.523214 61.275-30.867857l-29.48572-14.742857c-9.90536 10.596428-15.66428 13.130357-28.79464 13.130357-10.36607.0-25.56964-6.219643-25.56964-24.417857h85.69285c.23036-1.382143.23036-3.916072.23036-5.528572.0-41.464285-27.4125-62.657143-63.34821-62.657143-35.70536.0-64.96072 28.103572-64.96072 62.657143.0 34.323215 29.25536 62.426786 64.96072 62.426786zm23.49642-79.473214h-44.91964c.69107-10.826786 8.52322-19.119643 22.575-19.119643 11.97857.0 20.50179 6.680357 22.34464 19.119643zm180.6256 76.017857 8.98393-112.644643h1.15178l38.93036 111.492857h25.8l38.93036-111.492857h1.15178l8.98393 112.644643h43.30714L3514.80715 550.0625h-46.07143l-42.15536 109.65-42.15536-109.65h-46.07143l-17.04642 190.044643zm253.98154 3.455357c26.26072.0 47.91429-8.523214 61.275-30.867857l-29.48571-14.742857c-9.90536 10.596428-15.66429 13.130357-28.79464 13.130357-10.36607.0-25.56965-6.219643-25.56965-24.417857h85.69286c.23036-1.382143.23036-3.916072.23036-5.528572.0-41.464285-27.4125-62.657143-63.34822-62.657143-35.70535.0-64.96071 28.103572-64.96071 62.657143.0 34.323215 29.25536 62.426786 64.96071 62.426786zm23.49643-79.473214h-44.91964c.69107-10.826786 8.52321-19.119643 22.575-19.119643 11.97857.0 20.50179 6.680357 22.34464 19.119643zm107.93512 79.473214c24.1875.0 55.97679-5.528571 55.97679-40.3125.0-24.1875-20.27143-32.941071-35.93572-37.778571-10.13571-3.225-18.42857-5.067858-18.42857-11.2875.0-5.528572 3.68572-7.141072 12.66964-7.141072 12.43929.0 26.26072 7.371429 26.26072 7.371429l13.36071-26.721429s-16.81607-9.214286-39.62143-9.214286c-31.09821.0-51.6 13.821429-51.6 38.008929.0 17.7375 11.97858 26.030357 23.95715 32.25 13.36071 6.910714 26.26071 7.601786 26.26071 16.125.0 7.832143-6.91071 8.523214-12.66964 8.523214-13.13036.0-29.25536-13.591071-29.25536-13.591071l-16.58571 27.873214s17.04643 15.894643 45.61071 15.894643zm129.81905-3.455357v-66.803572c0-11.748214 11.97857-23.035714 24.1875-23.035714 13.13036.0 21.19286 11.2875 21.19286 23.035714v66.803572H3966v-77.860714c0-32.941072-30.17679-43.767858-51.83036-43.767858-12.9.0-24.64821 6.680358-33.8625 15.894643h-.46071V542h-40.77322v198.107143z" fill="#1128a9"/></g></svg></span><span class="text-uppercase font-weight-bold">Krustlet</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="https://openservicemesh.io" target="_blank" ><span>Home</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="https://docs.openservicemesh.io" target="_blank" ><span>Docs</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="https://github.com/openservicemesh/osm" target="_blank" ><span>Github</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="https://openservicemesh.io/blog" target="_blank" ><span>Blog</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="https://cloud-native.slack.com/archives/C018794NV1C" target="_blank" ><span>Slack</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="https://twitter.com/openservicemesh" target="_blank" ><span>Twitter</span></a>
			</li>
			
			
			<li class="nav-item dropdown d-none d-lg-block">
				<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	Releases 
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="https://docs.openservicemesh.io">v0.8.0</a>
	
	<a class="dropdown-item" href="https://release-v0.7--osm-docs.netlify.app">v0.7.0</a>
	
</div>

			</li>
			
			
		</ul>
	</div>
	
</nav>

    </header>
    <div class="container-fluid td-default td-outer">
      <main role="main" class="td-main">
        

<h1 id="running-krustlet-on-azure">Running Krustlet on Azure</h1>
<p>This guide demonstrates how to run Krustlet on Azure.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>This guide will require both <a href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli">the Azure
CLI</a> as well as
<code>kubectl</code> to connect to the cluster after it has been provisioned.</p>
<p>This specific tutorial will run Krustlet on another Azure Virtual Machine within
the same Virtual Network as the Kubernetes cluster.</p>
<h2 id="step-1-creating-a-service-principal">Step 1: Creating a Service Principal</h2>
<p>Prior to deploying Krustlet, a Service Principal needs to exist.</p>
<p>The following Azure CLI command can be used to create a Service Principal. Make
sure to change <code>ServicePrincipalName</code> with your own unique name for a Service
Principal.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ az ad sp create-for-rbac --name ServicePrincipalName --skip-assignment
</code></pre></div><p>The output for a service principal with password authentication includes the
password key. Make sure you copy this value - it can&rsquo;t be retrieved. If you
forget the password, <a href="https://docs.microsoft.com/en-us/cli/azure/create-an-azure-service-principal-azure-cli#reset-credentials">reset the service principal
credentials</a>.</p>
<p>The ID and password appears in the output of <code>az ad sp create-for-rbac</code> and are
used in the ARM template&rsquo;s parameters. Make sure to record their values for
later use.</p>
<h2 id="step-2-generate-an-ssh-key">Step 2: Generate an SSH Key</h2>
<p>You will also need to generate an SSH key. This will be used to SSH into the
machines for debugging purposes&hellip; Or if you&rsquo;re just curious and want to see
<a href="https://en.wiktionary.org/wiki/how_the_sausage_gets_made">how the sausage is
made</a>.</p>
<p>Follow the guide on Github to <a href="https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">generate a new SSH
key</a>.</p>
<h2 id="step-3-click-the-button">Step 3: Click the Button</h2>
<p>Go ahead. Click the button.</p>
<p><a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2Fdeislabs%2Fkrustlet%2Fmaster%2Fcontrib%2Fazure%2Fazuredeploy.json"><img src="https://aka.ms/deploytoazurebutton" alt="Deploy ToAzure"></a></p>
<p>Copy the content of your public key and paste it into the &ldquo;SSH Public Key&rdquo;
parameter. Also make sure to copy and paste the content of your Service
Principal&rsquo;s client ID (<code>appID</code>) and password into the parameters.</p>
<h2 id="step-3b-troubleshooting">Step 3(b): Troubleshooting</h2>
<p>In case the deployment fails, inspect the raw error message Azure reports from
the failed deployment. The deployment could fail due to a name collision, and
the raw error logs could help determine what went wrong.</p>
<h2 id="step-4-test-that-things-work">Step 4: Test that things work</h2>
<p>Once the cluster has been deployed, now you can see things work! Connect to the
cluster and feel free to give any of the demos a try like so:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ az aks get-credentials --name krustlet --resource-group my-resource-group
$ kubectl apply -f demos/wasi/hello-world-rust/k8s.yaml
<span style="color:#8f5902;font-style:italic"># wait a few seconds for the pod to run</span>
$ kubectl logs hello-world-wasi-rust
hello from stdout!
hello from stderr!
<span style="color:#000">CONFIG_MAP_VAL</span><span style="color:#ce5c00;font-weight:bold">=</span>cool stuff
<span style="color:#000">FOO</span><span style="color:#ce5c00;font-weight:bold">=</span>bar
<span style="color:#000">POD_NAME</span><span style="color:#ce5c00;font-weight:bold">=</span>hello-world-wasi-rust
Args are: <span style="color:#ce5c00;font-weight:bold">[]</span>

Bacon ipsum dolor amet chuck turducken porchetta, tri-tip spare ribs t-bone ham hock. Meatloaf
pork belly leberkas, ham beef pig corned beef boudin ground round meatball alcatra jerky.
Pancetta brisket pastrami, flank pork chop ball tip short loin burgdoggen. Tri-tip kevin
shoulder cow andouille. Prosciutto chislic cupim, short ribs venison jerky beef ribs ham hock
short loin fatback. Bresaola meatloaf capicola pancetta, prosciutto chicken landjaeger andouille
swine kielbasa drumstick cupim tenderloin chuck shank. Flank jowl leberkas turducken ham tongue
beef ribs shankle meatloaf drumstick pork t-bone frankfurter tri-tip.
</code></pre></div><h2 id="step-5-tear-it-down">Step 5: Tear it down</h2>
<p>After you&rsquo;re done testing, delete the cluster with</p>
<pre><code class="language-console" data-lang="console">$ az group delete -n my-resource-group
</code></pre>


      </main>
      

<footer class="py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-6 text-xs-center order-sm-2">
        <p class="footer-cncf"><img class="logo-cncf" src="/images/logos/cncf-color.svg" alt="Cloud Native Computing Foundation" /></p>
        <h4 class="footer-cncf">Open Service Mesh is a <a href="https://cncf.io">Cloud Native Computing Foundation</a> sandbox project.</h4>

        <p class="footer-legal">&copy; Open Service Mesh Authors 2021 | Documentation Distributed under <a href="https://creativecommons.org/licenses/by/4.0" target="_blank">CC-BY-4.0</a>. &copy; 2021 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage" target="_blank">Trademark Usage</a> page.</p>
      </div>
      <div class="col-6 col-sm-6 text-right text-xs-center order-sm-3">
        <ul class="inline list-inline text-right">
          
          
          <li class="nav-item list-inline-item mr-4 mb-2 mb-lg-0">
            
            
            
            
            <a class="nav-link" href="https://openservicemesh.io" target="_blank" ><span>Home</span></a>
          </li>
          
          <li class="nav-item list-inline-item mr-4 mb-2 mb-lg-0">
            
            
            
            
            <a class="nav-link" href="https://docs.openservicemesh.io" target="_blank" ><span>Docs</span></a>
          </li>
          
          <li class="nav-item list-inline-item mr-4 mb-2 mb-lg-0">
            
            
            
            
            <a class="nav-link" href="https://github.com/openservicemesh/osm" target="_blank" ><span>Github</span></a>
          </li>
          
          <li class="nav-item list-inline-item mr-4 mb-2 mb-lg-0">
            
            
            
            
            <a class="nav-link" href="https://openservicemesh.io/blog" target="_blank" ><span>Blog</span></a>
          </li>
          
          <li class="nav-item list-inline-item mr-4 mb-2 mb-lg-0">
            
            
            
            
            <a class="nav-link" href="https://cloud-native.slack.com/archives/C018794NV1C" target="_blank" ><span>Slack</span></a>
          </li>
          
          <li class="nav-item list-inline-item mr-4 mb-2 mb-lg-0">
            
            
            
            
            <a class="nav-link" href="https://twitter.com/openservicemesh" target="_blank" ><span>Twitter</span></a>
          </li>
          
        </ul>
      </div>
    </div>
  </div>
</footer>



    </div>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>










<script src="/js/main.min.63db3e552bd0543be17ce4a79a18b744e9cb72256bec42b540e3ab0cd43722d0.js" integrity="sha256-Y9s&#43;VSvQVDvhfOSnmhi3ROnLciVr7EK1QOOrDNQ3ItA=" crossorigin="anonymous"></script>



<script src='/js/prism.js'></script>



  </body>
</html>